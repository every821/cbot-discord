version: "2.3"
services:
    gen-model:
        image: chatai:latest
        runtime: nvidia
        volumes:
            - ./checkpoint:/checkpoint
            - ./models:/models/
            - ./input.txt:/input.txt
        command: "--genmodel"

    run-bot:
        image: chatai:latest
        runtime: nvidia
        volumes:
            - ./checkpoint:/checkpoint
            - ./models:/models/
        environment:
            - DISCORD_TOKEN=${TOKEN}
            - RESPONSE_CHANCE=0.25
